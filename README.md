# ë ˆë²„ë¦¬ì§€ ETF í€€íŠ¸ íŠ¸ë ˆì´ë”© ì‹œë®¬ë ˆì´ì…˜

TQQQ, SOXL ë“± ë³€ë™ì„±ì´ í° ë ˆë²„ë¦¬ì§€ ETFì˜ ê³¼ê±° ë°ì´í„°ë¥¼ ë¶„ì„í•˜ê³ , **í¼ì„¼íŠ¸ ê¸°ë°˜ì˜ ì‹¤ìš©ì ì¸ íŠ¸ë ˆì´ë”© ì „ëµ**ì„ ì‹œë®¬ë ˆì´ì…˜í•˜ê³  ê²€ì¦í•˜ëŠ” í”„ë¡œê·¸ë¨ì…ë‹ˆë‹¤.

## ğŸ’¡ í•µì‹¬ íŠ¹ì§•

ë³µì¡í•œ ê¸°ìˆ ì  ì§€í‘œ ëŒ€ì‹ , **ê°€ê²© ë³€ë™ë¥ (%)ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ëª…í™•í•˜ê³  ë‹¨ìˆœí•œ ë§¤ë§¤ ì „ëµ**ì„ ì œê³µí•©ë‹ˆë‹¤.
- "N% í•˜ë½ ì‹œ ë§¤ìˆ˜, M% ìƒìŠ¹ ì‹œ ë§¤ë„"ì™€ ê°™ì€ ì§ê´€ì ì¸ ì¡°ê±´
- í•˜ë½í­ì— ë”°ë¥¸ ë¹„ì¤‘ ì¡°ì ˆ (í”¼ë¼ë¯¸ë”©)
- ë ˆë²„ë¦¬ì§€ ETFì˜ ë†’ì€ ë³€ë™ì„±ì— ìµœì í™”ëœ ì „ëµ

## ì£¼ìš” ê¸°ëŠ¥

### ğŸ“Š ë°ì´í„° ìˆ˜ì§‘
- yfinanceë¥¼ í™œìš©í•œ ë ˆë²„ë¦¬ì§€ ETF ì‹¤ì‹œê°„ ë°ì´í„° ìˆ˜ì§‘
- TQQQ, SOXL, UPRO, TNA, FNGU ë“± ì£¼ìš” 3ë°° ë ˆë²„ë¦¬ì§€ ETF ì§€ì›
- ë‹¤ì–‘í•œ ê¸°ê°„ ë° ì¸í„°ë²Œ ì„¤ì • ê°€ëŠ¥

### ğŸ¯ í¼ì„¼íŠ¸ ê¸°ë°˜ íŠ¸ë ˆì´ë”© ì „ëµ (ì£¼ìš” ì „ëµ)

1. **í•˜ë½ë¥  ë§¤ìˆ˜ ì „ëµ** (PercentageDropBuyStrategy)
   - N% í•˜ë½ ì‹œ ë§¤ìˆ˜
   - M% ìƒìŠ¹ ì‹œ ë§¤ë„
   - ì˜ˆ: 5% í•˜ë½ ì‹œ ë§¤ìˆ˜, 3% ìƒìŠ¹ ì‹œ ë§¤ë„

2. **í”¼ë¼ë¯¸ë”© ì „ëµ** (PyramidingStrategy)
   - í•˜ë½í­ì— ë”°ë¼ ë§¤ìˆ˜ ë¹„ì¤‘ ì¦ê°€
   - ì˜ˆ: 3% í•˜ë½ â†’ 20% íˆ¬ì, 5% í•˜ë½ â†’ 30% íˆ¬ì, 10% í•˜ë½ â†’ 50% íˆ¬ì
   - ëª©í‘œ ìˆ˜ìµë¥  ë„ë‹¬ ì‹œ ì „ëŸ‰ ë§¤ë„

3. **ê·¸ë¦¬ë“œ íŠ¸ë ˆì´ë”©** (GridTradingStrategy)
   - ì¼ì • ê°„ê²©(%)ìœ¼ë¡œ ë§¤ìˆ˜/ë§¤ë„ ì£¼ë¬¸ ë°°ì¹˜
   - ì˜ˆ: 3% ê°„ê²©ìœ¼ë¡œ 10ê°œ ê·¸ë¦¬ë“œ ì„¤ì •
   - ë³€ë™ì„± ì¥ì„¸ì—ì„œ íš¨ê³¼ì 

4. **ì •ì•¡ ì ë¦½ì‹ íˆ¬ì** (DollarCostAveragingStrategy)
   - ì¼ì • ê¸°ê°„ë§ˆë‹¤ ìë™ ë§¤ìˆ˜
   - ëª©í‘œ ìˆ˜ìµë¥  ë„ë‹¬ ì‹œ ë§¤ë„
   - ì¥ê¸° íˆ¬ìì— ì í•©

5. **ë³€ë™ì„± ëŒíŒŒ ì „ëµ** (VolatilityBreakoutStrategy)
   - ì „ì¼ ë³€ë™í­ì˜ N% ëŒíŒŒ ì‹œ ë§¤ìˆ˜
   - ì†ì ˆ/ìµì ˆ ê¸°ì¤€ ì„¤ì • ê°€ëŠ¥

6. **ë³µí•© í¼ì„¼íŠ¸ ì „ëµ** (CombinedPercentageStrategy)
   - ì—¬ëŸ¬ í•˜ë½/ìƒìŠ¹ êµ¬ê°„ì—ì„œ ê°ê° ë‹¤ë¥¸ ë¹„ì¤‘ìœ¼ë¡œ ë§¤ë§¤
   - ì˜ˆ: 3% í•˜ë½ ì‹œ 30% ë§¤ìˆ˜, 7% í•˜ë½ ì‹œ 70% ë§¤ìˆ˜
   - ë§¤ë„ë„ ë‹¨ê³„ë³„ë¡œ ì„¤ì • ê°€ëŠ¥

7. **ì¼ì¼ DCA + íšŒì°¨ë³„ ìµì ˆ + íŠ¸ë ˆì¼ë§ ë§¤ìˆ˜** (DailyDCAStrategy) â­ NEW
   - **ìŠ¤ë§ˆíŠ¸ ë§¤ìˆ˜**: â‘  ì „ì¼ ëŒ€ë¹„ í•˜ë½ OR â‘¡ ìµœê·¼ ê³ ì  ëŒ€ë¹„ N% í•˜ë½
   - **ìƒìŠ¹ì¥ ëŒ€ì‘**: ìƒìŠ¹ ì¶”ì„¸ì—ì„œë„ ì¡°ì • êµ¬ê°„ë§ˆë‹¤ ìë™ ë§¤ìˆ˜
   - **íšŒì°¨ë³„ ìµì ˆ**: ê° ë§¤ìˆ˜ íšŒì°¨ë³„ë¡œ 3% ì´ìƒ ìˆ˜ìµë‚œ ê²ƒë§Œ ê°œë³„ ë§¤ë„
   - **í•˜ë½ì¥ ìµœì í™”**: í•˜ë½ì¥ì—ì„œëŠ” í‰ê· ë‹¨ê°€ ë‚®ì¶”ê¸°
   - ë ˆë²„ë¦¬ì§€ ETFì˜ ë†’ì€ ë³€ë™ì„±ì— ìµœì í™”ëœ ì „ëµ

### ğŸ“ˆ ê¸°ìˆ ì  ì§€í‘œ ê¸°ë°˜ ì „ëµ (ë ˆê±°ì‹œ)

<details>
<summary>í´ë¦­í•˜ì—¬ í¼ì¹˜ê¸°</summary>

- **ëª¨ë©˜í…€ ì „ëµ**: ì´ë™í‰ê· ì„  í¬ë¡œìŠ¤ì˜¤ë²„
- **í‰ê·  íšŒê·€ ì „ëµ**: ë³¼ë¦°ì € ë°´ë“œ, Z-Score
- **RSI ì „ëµ**: ê³¼ë§¤ìˆ˜/ê³¼ë§¤ë„
- **MACD ì „ëµ**: í¬ë¡œìŠ¤ì˜¤ë²„

ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚° ìœ í‹¸ë¦¬í‹°:
- ì´ë™í‰ê· : SMA, EMA
- ëª¨ë©˜í…€: RSI, MACD, Stochastic, ADX
- ë³€ë™ì„±: Bollinger Bands, ATR
- ê±°ë˜ëŸ‰: OBV, VWAP

</details>

### ğŸ”¬ ë°±í…ŒìŠ¤íŒ… ì—”ì§„
- ì‹¤ì œ ê±°ë˜ ë¹„ìš© (ìˆ˜ìˆ˜ë£Œ, ìŠ¬ë¦¬í”¼ì§€) ë°˜ì˜
- í¬íŠ¸í´ë¦¬ì˜¤ ê°€ì¹˜ ì¶”ì 
- ë“œë¡œìš°ë‹¤ìš´ ë¶„ì„
- Buy & Hold ì „ëµê³¼ ë¹„êµ

### ğŸ“Š ì„±ê³¼ ë¶„ì„
- **ìˆ˜ìµë¥  ë¶„ì„**: ì´ ìˆ˜ìµë¥ , ì—°ìœ¨í™” ìˆ˜ìµë¥ , ì›”ë³„/ì—°ë„ë³„ ìˆ˜ìµë¥ 
- **ë¦¬ìŠ¤í¬ ì§€í‘œ**: Sharpe Ratio, Sortino Ratio, Calmar Ratio
- **ë“œë¡œìš°ë‹¤ìš´**: ìµœëŒ€ ë“œë¡œìš°ë‹¤ìš´, í‰ê·  ë“œë¡œìš°ë‹¤ìš´ ê¸°ê°„
- **ê±°ë˜ ë¶„ì„**: ìŠ¹ë¥ , ì†ìµë¹„, í‰ê·  ìŠ¹/íŒ¨, ê±°ë˜ íšŸìˆ˜
- **ë¦¬ìŠ¤í¬ ë©”íŠ¸ë¦­**: VaR, CVaR, ë³€ë™ì„±

### ğŸ“‰ ì‹œê°í™”
- ê°€ê²© ë° ê±°ë˜ëŸ‰ ì°¨íŠ¸
- ìº”ë“¤ìŠ¤í‹± ì°¨íŠ¸ (Plotly ì¸í„°ë™í‹°ë¸Œ)
- ë°±í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì‹œê°í™”
- ê¸°ìˆ ì  ì§€í‘œ ì°¨íŠ¸
- ìƒê´€ê´€ê³„ íˆíŠ¸ë§µ

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
.
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ data_fetcher.py          # ë°ì´í„° ìˆ˜ì§‘
â”‚   â”œâ”€â”€ strategies/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ base_strategy.py         # ê¸°ë³¸ ì „ëµ í´ë˜ìŠ¤
â”‚   â”‚   â”œâ”€â”€ percentage_strategy.py   # â­ í¼ì„¼íŠ¸ ê¸°ë°˜ ì „ëµ (ì£¼ìš”)
â”‚   â”‚   â”œâ”€â”€ momentum_strategy.py     # ëª¨ë©˜í…€ ì „ëµ (ë ˆê±°ì‹œ)
â”‚   â”‚   â”œâ”€â”€ mean_reversion_strategy.py  # í‰ê·  íšŒê·€ ì „ëµ (ë ˆê±°ì‹œ)
â”‚   â”‚   â”œâ”€â”€ rsi_strategy.py          # RSI ì „ëµ (ë ˆê±°ì‹œ)
â”‚   â”‚   â””â”€â”€ macd_strategy.py         # MACD ì „ëµ (ë ˆê±°ì‹œ)
â”‚   â”œâ”€â”€ backtesting/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ backtester.py            # ë°±í…ŒìŠ¤íŒ… ì—”ì§„
â”‚   â”‚   â””â”€â”€ performance.py           # ì„±ê³¼ ë¶„ì„
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ indicators.py            # ê¸°ìˆ ì  ì§€í‘œ (ë ˆê±°ì‹œ)
â”‚       â””â”€â”€ visualization.py         # ì‹œê°í™”
â”œâ”€â”€ examples/
â”‚   â”œâ”€â”€ percentage_strategy_example.py   # â­ í¼ì„¼íŠ¸ ì „ëµ ì˜ˆì œ (ì¶”ì²œ)
â”‚   â”œâ”€â”€ custom_percentage_test.py        # â­ ì»¤ìŠ¤í…€ ì¡°ê±´ í…ŒìŠ¤íŠ¸ (ì¶”ì²œ)
â”‚   â”œâ”€â”€ basic_example.py                 # ê¸°ë³¸ ì˜ˆì œ
â”‚   â”œâ”€â”€ strategy_comparison.py           # ì „ëµ ë¹„êµ
â”‚   â””â”€â”€ parameter_optimization.py        # íŒŒë¼ë¯¸í„° ìµœì í™”
â”œâ”€â”€ tests/
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md
```

## ì„¤ì¹˜ ë°©ë²•

### 1. ì €ì¥ì†Œ í´ë¡ 
```bash
git clone <repository-url>
cd DEV_SAMPLE
```

### 2. ê°€ìƒí™˜ê²½ ìƒì„± (ê¶Œì¥)
```bash
python -m venv venv

# Linux/Mac
source venv/bin/activate

# Windows
venv\Scripts\activate
```

### 3. í•„ìš”í•œ íŒ¨í‚¤ì§€ ì„¤ì¹˜
```bash
pip install -r requirements.txt
```

## ì‚¬ìš© ë°©ë²•

### â­ í¼ì„¼íŠ¸ ê¸°ë°˜ ì „ëµ ì˜ˆì œ (ì¶”ì²œ)

```python
from src.data.data_fetcher import DataFetcher
from src.strategies.percentage_strategy import PercentageDropBuyStrategy
from src.backtesting.backtester import Backtester

# 1. ë°ì´í„° ìˆ˜ì§‘
fetcher = DataFetcher()
data = fetcher.fetch_data('TQQQ', period='2y')

# 2. ì „ëµ ì„¤ì •: 5% í•˜ë½ ì‹œ ë§¤ìˆ˜, 3% ìƒìŠ¹ ì‹œ ë§¤ë„
strategy = PercentageDropBuyStrategy(
    drop_percent=5.0,      # 5% í•˜ë½ ì‹œ ë§¤ìˆ˜
    sell_profit_percent=3.0  # 3% ìƒìŠ¹ ì‹œ ë§¤ë„
)

# 3. ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰
backtester = Backtester(initial_capital=10000)
results = backtester.run(strategy, data)

# 4. ê²°ê³¼ ì¶œë ¥
backtester.print_summary()
```

### ğŸ’° í”¼ë¼ë¯¸ë”© ì „ëµ (í•˜ë½ ì‹œ ë¹„ì¤‘ ëŠ˜ë¦¬ê¸°)

```python
from src.strategies.percentage_strategy import PyramidingStrategy

# í•˜ë½í­ì— ë”°ë¼ ë‹¨ê³„ì ìœ¼ë¡œ ë¹„ì¤‘ ì¦ê°€
strategy = PyramidingStrategy(
    buy_levels=[
        (3.0, 0.2),   # 3% í•˜ë½ â†’ 20% íˆ¬ì
        (5.0, 0.3),   # 5% í•˜ë½ â†’ 30% íˆ¬ì
        (8.0, 0.3),   # 8% í•˜ë½ â†’ 30% íˆ¬ì
        (12.0, 0.2)   # 12% í•˜ë½ â†’ 20% íˆ¬ì
    ],
    sell_profit_percent=5.0  # 5% ìˆ˜ìµ ì‹œ ì „ëŸ‰ ë§¤ë„
)
```

### ğŸ“Š ë³µí•© ì „ëµ (ë§¤ìˆ˜/ë§¤ë„ ë‹¨ê³„ë³„ ì¡°ì ˆ)

```python
from src.strategies.percentage_strategy import CombinedPercentageStrategy

strategy = CombinedPercentageStrategy(
    buy_conditions=[
        (5.0, 0.4),    # 5% í•˜ë½ â†’ 40% ë§¤ìˆ˜
        (10.0, 0.6),   # 10% í•˜ë½ â†’ 60% ë§¤ìˆ˜
        (15.0, 1.0)    # 15% í•˜ë½ â†’ 100% ë§¤ìˆ˜
    ],
    sell_conditions=[
        (8.0, 0.5),    # 8% ìƒìŠ¹ â†’ 50% ë§¤ë„
        (15.0, 1.0)    # 15% ìƒìŠ¹ â†’ 100% ë§¤ë„
    ]
)
```

### â­ ì¼ì¼ DCA + íšŒì°¨ë³„ ìµì ˆ + íŠ¸ë ˆì¼ë§ ë§¤ìˆ˜ (NEW!)

```python
from src.strategies.percentage_strategy import DailyDCAStrategy

# ê· í˜•ì¡íŒ ì„¤ì • (ì¶”ì²œ)
strategy = DailyDCAStrategy(
    max_positions=30,           # ìµœëŒ€ 30íšŒê¹Œì§€ ë§¤ìˆ˜
    profit_target_percent=3.0,  # ê° íšŒì°¨ë³„ 3% ìµì ˆ
    first_day_buy=True,         # ì²«ë‚  ë¬´ì¡°ê±´ ë§¤ìˆ˜
    lookback_days=7,            # ìµœê·¼ 7ì¼ ê³ ì  ì¶”ì 
    pullback_percent=3.0        # ê³ ì  ëŒ€ë¹„ 3% í•˜ë½ ì‹œ ë§¤ìˆ˜
)

# ê³µê²©ì  ì„¤ì • (ë¹ˆë²ˆí•œ ë§¤ìˆ˜)
strategy_aggressive = DailyDCAStrategy(
    max_positions=50,
    profit_target_percent=2.0,  # 2%ë§Œ ì˜¬ë¼ë„ ìµì ˆ
    lookback_days=5,            # ì§§ì€ ê¸°ê°„
    pullback_percent=2.0        # ì‘ì€ í•˜ë½ì—ë„ ë§¤ìˆ˜
)

# ë³´ìˆ˜ì  ì„¤ì • (ì„ ë³„ì  ë§¤ìˆ˜)
strategy_conservative = DailyDCAStrategy(
    max_positions=20,
    profit_target_percent=5.0,  # 5% ì´ìƒ ìˆ˜ìµ í•„ìš”
    lookback_days=10,           # ê¸´ ê¸°ê°„
    pullback_percent=5.0        # í° í•˜ë½ì—ë§Œ ë§¤ìˆ˜
)

# ë™ì‘ ë°©ì‹:
# - 1ì¼ì°¨: ë¬´ì¡°ê±´ 1íšŒ ë§¤ìˆ˜
# - 2ì¼ì°¨: ì „ì¼ ì¢…ê°€ < ë‹¹ì¼ ì¢…ê°€ â†’ 2íšŒ ë§¤ìˆ˜ (ì¡°ê±´1)
# - 3ì¼ì°¨: ì „ì¼ ì¢…ê°€ëŠ” ë†’ì§€ë§Œ, ìµœê·¼ 7ì¼ ê³ ì  ëŒ€ë¹„ 3% í•˜ë½ â†’ 3íšŒ ë§¤ìˆ˜ (ì¡°ê±´2) â­ìƒìŠ¹ì¥ ëŒ€ì‘
# - 4ì¼ì°¨: ì „ì¼ ì¢…ê°€ > ë‹¹ì¼ ì¢…ê°€ â†’ 3% ì´ìƒ ìˆ˜ìµë‚œ íšŒì°¨ë§Œ ê°œë³„ ë§¤ë„
# - ê° íšŒì°¨ë³„ ë§¤ìˆ˜ê°€ë¥¼ ê°œë³„ ì¶”ì í•˜ì—¬ ìˆ˜ìµë‚œ íšŒì°¨ë§Œ ë¨¼ì € ë§¤ë„
# - ë°˜ë³µ...
```

### ì˜ˆì œ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰

```bash
cd examples

# â­ ì¼ì¼ ëˆ„ì  ë§¤ìˆ˜ ì „ëµ í…ŒìŠ¤íŠ¸ (NEW!)
python daily_accumulation_test.py

# â­ í¼ì„¼íŠ¸ ì „ëµ ì¢…í•© í…ŒìŠ¤íŠ¸ (ì¶”ì²œ)
python percentage_strategy_example.py

# â­ ì»¤ìŠ¤í…€ ì¡°ê±´ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ (ì¶”ì²œ)
python custom_percentage_test.py

# ê¸°ë³¸ ì˜ˆì œ
python basic_example.py

# ì—¬ëŸ¬ ì „ëµ ë¹„êµ
python strategy_comparison.py

# íŒŒë¼ë¯¸í„° ìµœì í™”
python parameter_optimization.py
```

## ğŸ¯ ê·¸ë¦¬ë“œ íŠ¸ë ˆì´ë”© ì „ëµ ìƒì„¸ ê°€ì´ë“œ

### ğŸ“– ê·¸ë¦¬ë“œ íŠ¸ë ˆì´ë”©ì´ë€?

ê·¸ë¦¬ë“œ íŠ¸ë ˆì´ë”©ì€ **ì¼ì •í•œ ê°€ê²© ê°„ê²©(%)ìœ¼ë¡œ ë§¤ìˆ˜/ë§¤ë„ ì£¼ë¬¸ì„ ë¯¸ë¦¬ ë°°ì¹˜**í•˜ëŠ” ì „ëµì…ë‹ˆë‹¤. ë§ˆì¹˜ ê·¸ë¬¼ë§(Grid)ì²˜ëŸ¼ ì—¬ëŸ¬ ê°€ê²©ëŒ€ì— ì£¼ë¬¸ì„ ê±¸ì–´ë†“ê³ , ê°€ê²©ì´ ì›€ì§ì¼ ë•Œë§ˆë‹¤ ìë™ìœ¼ë¡œ ë§¤ë§¤ê°€ ì²´ê²°ë˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.

### ğŸ’¡ ì‘ë™ ì›ë¦¬

```
ì¤‘ì‹¬ ê°€ê²©: $100

ë§¤ë„ ê·¸ë¦¬ë“œ:
â”œâ”€ $115 (15% â†‘) â”€ ë§¤ë„ ì£¼ë¬¸
â”œâ”€ $112 (12% â†‘) â”€ ë§¤ë„ ì£¼ë¬¸
â”œâ”€ $109 (9% â†‘)  â”€ ë§¤ë„ ì£¼ë¬¸
â”œâ”€ $106 (6% â†‘)  â”€ ë§¤ë„ ì£¼ë¬¸
â”œâ”€ $103 (3% â†‘)  â”€ ë§¤ë„ ì£¼ë¬¸
â”‚
â””â”€ $100 (ì¤‘ì‹¬)
â”‚
ë§¤ìˆ˜ ê·¸ë¦¬ë“œ:
â”œâ”€ $97  (3% â†“)  â”€ ë§¤ìˆ˜ ì£¼ë¬¸
â”œâ”€ $94  (6% â†“)  â”€ ë§¤ìˆ˜ ì£¼ë¬¸
â”œâ”€ $91  (9% â†“)  â”€ ë§¤ìˆ˜ ì£¼ë¬¸
â”œâ”€ $88  (12% â†“) â”€ ë§¤ìˆ˜ ì£¼ë¬¸
â””â”€ $85  (15% â†“) â”€ ë§¤ìˆ˜ ì£¼ë¬¸
```

ê°€ê²©ì´ $97ë¡œ í•˜ë½í•˜ë©´ ìë™ ë§¤ìˆ˜ â†’ ë‹¤ì‹œ $103ìœ¼ë¡œ ìƒìŠ¹í•˜ë©´ ìë™ ë§¤ë„ â†’ 6% ìˆ˜ìµ!

### âœ… ì¥ì 

1. **ë³€ë™ì„±ì„ ìˆ˜ìµìœ¼ë¡œ ì „í™˜**
   - ë ˆë²„ë¦¬ì§€ ETFì˜ ë†’ì€ ë³€ë™ì„±ì„ í™œìš©
   - ë°©í–¥ ì˜ˆì¸¡ ë¶ˆí•„ìš”, ë‹¨ìˆœíˆ ì›€ì§ì„ë§Œ ìˆìœ¼ë©´ ìˆ˜ìµ

2. **ê°ì • ë°°ì œ**
   - ë¯¸ë¦¬ ì •í•´ì§„ ê·œì¹™ëŒ€ë¡œ ìë™ ë§¤ë§¤
   - íŒ¨ë‹‰ ë§¤ë„ë‚˜ ìš•ì‹¬ìœ¼ë¡œ ì¸í•œ ì‹¤ìˆ˜ ë°©ì§€

3. **ì§€ì†ì ì¸ ìˆ˜ìµ ì°½ì¶œ**
   - íš¡ë³´ì¥ì—ì„œ íŠ¹íˆ íš¨ê³¼ì 
   - ë§¤ì¼ ì‘ì€ ìˆ˜ìµì„ ëˆ„ì 

4. **ë¦¬ìŠ¤í¬ ë¶„ì‚°**
   - ì—¬ëŸ¬ ê°€ê²©ëŒ€ì— ë¶„í•  ë§¤ìˆ˜/ë§¤ë„
   - í•œ ë²ˆì— ì˜¬ì¸í•˜ì§€ ì•ŠìŒ

### âš ï¸ ì£¼ì˜ì‚¬í•­

1. **ê°•í•œ ì¶”ì„¸ì¥ì—ì„œëŠ” ë¶ˆë¦¬**
   - ì§€ì†ì ì¸ ìƒìŠ¹ì¥: ì¼ì° ë§¤ë„í•˜ì—¬ ê¸°íšŒ ì†ì‹¤
   - ì§€ì†ì ì¸ í•˜ë½ì¥: ê³„ì† ë§¤ìˆ˜í•˜ë‹¤ê°€ ìê¸ˆ ê³ ê°ˆ

2. **ìê¸ˆ ê´€ë¦¬ ì¤‘ìš”**
   - ê° ê·¸ë¦¬ë“œì— íˆ¬ì…í•  ìê¸ˆ ë¯¸ë¦¬ ê³„ì‚°
   - ë„ˆë¬´ ë§ì€ ê·¸ë¦¬ë“œëŠ” ìê¸ˆ ë¶€ì¡± ìœ„í—˜

3. **ì ì ˆí•œ ê°„ê²© ì„¤ì • í•„ìš”**
   - ê°„ê²©ì´ ë„ˆë¬´ ì¢ìœ¼ë©´: ë¹ˆë²ˆí•œ ê±°ë˜, ìˆ˜ìˆ˜ë£Œ ì†ì‹¤
   - ê°„ê²©ì´ ë„ˆë¬´ ë„“ìœ¼ë©´: ê±°ë˜ ê¸°íšŒ ê°ì†Œ

### ğŸš€ ë ˆë²„ë¦¬ì§€ ETFì— ìµœì ì¸ ì´ìœ 

ë ˆë²„ë¦¬ì§€ ETFëŠ” **í•˜ë£¨ì—ë„ 5~10% ì´ìƒ ì›€ì§ì´ëŠ” ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤**. ì´ëŸ° ë†’ì€ ë³€ë™ì„±ì´ ê·¸ë¦¬ë“œ íŠ¸ë ˆì´ë”©ì˜ ìµœê³ ì˜ ë¨¹ì‡ê°ì…ë‹ˆë‹¤!

```python
# TQQQ ì˜ˆì‹œ (ì‹¤ì œ ë°ì´í„° ê¸°ë°˜)
# í•˜ë£¨ ë³€ë™í­: í‰ê·  7~12%
# í•œ ì£¼ ë³€ë™í­: 20~30%

# 3% ê°„ê²© ê·¸ë¦¬ë“œ ì„¤ì • ì‹œ
# â†’ í•˜ë£¨ì— 2~4íšŒ ê±°ë˜ ë°œìƒ ê°€ëŠ¥
# â†’ ê° ê±°ë˜ë§ˆë‹¤ 3~6% ìˆ˜ìµ
```

### ğŸ“Š ì‹¤ì „ ì˜ˆì œ

#### ì˜ˆì œ 1: ê¸°ë³¸ ê·¸ë¦¬ë“œ íŠ¸ë ˆì´ë”©

```python
from src.data.data_fetcher import DataFetcher
from src.strategies.percentage_strategy import GridTradingStrategy
from src.backtesting.backtester import Backtester

# ë°ì´í„° ìˆ˜ì§‘
fetcher = DataFetcher()
data = fetcher.fetch_data('TQQQ', period='1y')

# ê·¸ë¦¬ë“œ ì „ëµ ì„¤ì •
strategy = GridTradingStrategy(
    grid_size=3.0,      # 3% ê°„ê²©
    num_grids=10,       # 10ê°œ ê·¸ë¦¬ë“œ (ìƒ/í•˜ ê° 5ê°œ)
    center_price=None   # Noneì´ë©´ ì‹œì‘ ê°€ê²©ì„ ì¤‘ì‹¬ìœ¼ë¡œ
)

# ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰
backtester = Backtester(initial_capital=10000)
results = backtester.run(strategy, data)
backtester.print_summary()
```

#### ì˜ˆì œ 2: ë³´ìˆ˜ì  ì„¤ì • (í° ê°„ê²©)

```python
# í° ë³€ë™ì—ë§Œ ë°˜ì‘ - ì•ˆì •ì ì´ì§€ë§Œ ê±°ë˜ ë¹ˆë„ ë‚®ìŒ
strategy = GridTradingStrategy(
    grid_size=5.0,      # 5% ê°„ê²© (ë³´ìˆ˜ì )
    num_grids=8,        # 8ê°œ ê·¸ë¦¬ë“œ
)
```

#### ì˜ˆì œ 3: ê³µê²©ì  ì„¤ì • (ì‘ì€ ê°„ê²©)

```python
# ì‘ì€ ë³€ë™ì—ë„ ë°˜ì‘ - ê±°ë˜ ë¹ˆë„ ë†’ìŒ, ìˆ˜ìˆ˜ë£Œ ì£¼ì˜
strategy = GridTradingStrategy(
    grid_size=2.0,      # 2% ê°„ê²© (ê³µê²©ì )
    num_grids=15,       # 15ê°œ ê·¸ë¦¬ë“œ
)
```

#### ì˜ˆì œ 4: ì¤‘ì‹¬ ê°€ê²© ê³ ì •

```python
# í˜„ì¬ ê°€ê²©ì´ $50ì´ë¼ê³  ê°€ì •
strategy = GridTradingStrategy(
    grid_size=3.0,
    num_grids=10,
    center_price=50.0   # $50ì„ ì¤‘ì‹¬ìœ¼ë¡œ ê·¸ë¦¬ë“œ ìƒì„±
)
```

### ğŸ¨ íŒŒë¼ë¯¸í„° ì„ íƒ ê°€ì´ë“œ

#### grid_size (ê·¸ë¦¬ë“œ ê°„ê²©)

| ê°„ê²© | íŠ¹ì„± | ì¶”ì²œ ëŒ€ìƒ |
|------|------|-----------|
| 1~2% | ë§¤ìš° ê³µê²©ì , ê±°ë˜ ë¹ˆë²ˆ | ì´ˆë‹¨íƒ€ íŠ¸ë ˆì´ë”, ìˆ˜ìˆ˜ë£Œ ë‚®ì€ ê²½ìš° |
| 3~4% | ê· í˜•ì¡íŒ ì„¤ì • | **ëŒ€ë¶€ë¶„ì˜ íˆ¬ìì ì¶”ì²œ** |
| 5~7% | ë³´ìˆ˜ì , ì•ˆì •ì  | ì¥ê¸° íˆ¬ìì, í° ë³€ë™ë§Œ ë…¸ë¦¬ëŠ” ê²½ìš° |
| 8%+ | ë§¤ìš° ë³´ìˆ˜ì  | ê·¹ë‹¨ì  ë³€ë™ë§Œ í™œìš© |

#### num_grids (ê·¸ë¦¬ë“œ ê°œìˆ˜)

| ê°œìˆ˜ | ìê¸ˆ í™œìš© | ì¶”ì²œ ìë³¸ |
|------|-----------|-----------|
| 5~8ê°œ | ë‚®ìŒ (50~60%) | ì†Œì•¡ ($1,000 ë¯¸ë§Œ) |
| 10~15ê°œ | ì¤‘ê°„ (70~80%) | ì¤‘ì•¡ ($1,000~10,000) |
| 15~20ê°œ | ë†’ìŒ (90%+) | ê³ ì•¡ ($10,000+) |

### ğŸ’° ìˆ˜ìµ ê³„ì‚° ì˜ˆì‹œ

```
ì´ˆê¸° ìë³¸: $10,000
ê·¸ë¦¬ë“œ ê°„ê²©: 3%
ê·¸ë¦¬ë“œ ê°œìˆ˜: 10ê°œ (ìƒ/í•˜ ê° 5ê°œ)
ê° ê·¸ë¦¬ë“œ íˆ¬ìê¸ˆ: $1,000

ì‹œë‚˜ë¦¬ì˜¤:
1. ê°€ê²© 3% í•˜ë½ â†’ $1,000 ë§¤ìˆ˜
2. ê°€ê²© 6% ìƒìŠ¹ â†’ $1,000 ë§¤ë„
3. ìˆ˜ìµ: $1,000 Ã— 0.06 = $60

í•˜ë£¨ 2íšŒ ê±°ë˜ Ã— 20 ê±°ë˜ì¼ = ì›” 40íšŒ
ì›” ì˜ˆìƒ ìˆ˜ìµ: $60 Ã— 40 = $2,400 (24%)

â€» ì‹¤ì œë¡œëŠ” ìˆ˜ìˆ˜ë£Œ, ìŠ¬ë¦¬í”¼ì§€, ì‹œì¥ ìƒí™©ì— ë”°ë¼ ë³€ë™
```

### ğŸ”§ ìµœì í™” íŒ

1. **ë°±í…ŒìŠ¤íŠ¸ë¡œ ìµœì  ê°„ê²© ì°¾ê¸°**
   ```python
   # parameter_optimization.py ì°¸ê³ 
   # ë‹¤ì–‘í•œ grid_sizeë¥¼ í…ŒìŠ¤íŠ¸í•˜ì—¬ ìµœì ê°’ íƒìƒ‰
   ```

2. **ë³€ë™ì„±ì— ë”°ë¼ ì¡°ì •**
   - ë³€ë™ì„± ë†’ì„ ë•Œ: ê°„ê²© ë„“íˆê¸° (4~5%)
   - ë³€ë™ì„± ë‚®ì„ ë•Œ: ê°„ê²© ì¢íˆê¸° (2~3%)

3. **ë¶€ë¶„ ì²­ì‚° ì „ëµ**
   - í° ìˆ˜ìµ ë°œìƒ ì‹œ ì¼ë¶€ ê·¸ë¦¬ë“œ ì²­ì‚°
   - ë‚¨ì€ ìê¸ˆìœ¼ë¡œ ìƒˆë¡œìš´ ì¤‘ì‹¬ê°€ ì„¤ì •

4. **ì†ì ˆì„  ì„¤ì •**
   - ì¤‘ì‹¬ê°€ì—ì„œ Â±20~30% ì´ìƒ ë²—ì–´ë‚˜ë©´ ì „ëµ ì¬ì„¤ì • ê³ ë ¤

### ğŸ“ˆ ì‹¤ì „ ìš´ìš© ì˜ˆì‹œ

```python
# ì‹¤ì „ ì¶”ì²œ ì„¤ì • (TQQQ ê¸°ì¤€)
strategy = GridTradingStrategy(
    grid_size=3.5,      # 3.5% ê°„ê²© (ì ë‹¹í•œ ê±°ë˜ ë¹ˆë„)
    num_grids=12,       # 12ê°œ ê·¸ë¦¬ë“œ (ì¶©ë¶„í•œ ëŒ€ì‘ ë²”ìœ„)
    center_price=None   # ì‹œì‘ ê°€ê²©ì„ ì¤‘ì‹¬ìœ¼ë¡œ
)

# ì´ˆê¸° ìë³¸ $10,000 ê¸°ì¤€
# - ê° ê·¸ë¦¬ë“œ: ì•½ $833
# - ìµœëŒ€ í•˜ë½ ëŒ€ì‘: 21% (3.5% Ã— 6)
# - ìµœëŒ€ ìƒìŠ¹ ëŒ€ì‘: 21% (3.5% Ã— 6)
# - ì˜ˆìƒ ì›” ê±°ë˜: 30~50íšŒ
# - ëª©í‘œ ì›” ìˆ˜ìµë¥ : 10~20%
```

## ì§€ì›í•˜ëŠ” ë ˆë²„ë¦¬ì§€ ETF

| ì‹¬ë³¼ | ì„¤ëª… | ë ˆë²„ë¦¬ì§€ |
|------|------|----------|
| TQQQ | ProShares UltraPro QQQ | 3x |
| SOXL | Direxion Daily Semiconductor Bull | 3x |
| UPRO | ProShares UltraPro S&P500 | 3x |
| TNA | Direxion Daily Small Cap Bull | 3x |
| FNGU | MicroSectors FANG+ Index | 3x |
| TECL | Direxion Daily Technology Bull | 3x |
| CURE | Direxion Daily Healthcare Bull | 3x |
| LABU | Direxion Daily S&P Biotech Bull | 3x |
| DFEN | Direxion Daily Aerospace & Defense Bull | 3x |
| SPXL | Direxion Daily S&P 500 Bull | 3x |

## ì»¤ìŠ¤í…€ ì „ëµ ë§Œë“¤ê¸°

### í¼ì„¼íŠ¸ ê¸°ë°˜ ì»¤ìŠ¤í…€ ì „ëµ

```python
from src.strategies.base_strategy import BaseStrategy
import pandas as pd

class MyPercentageStrategy(BaseStrategy):
    """
    ë‚˜ë§Œì˜ í¼ì„¼íŠ¸ ì „ëµ
    ì˜ˆ: ì—°ì† 2ì¼ í•˜ë½ í›„ ì¶”ê°€ 3% í•˜ë½ ì‹œ ë§¤ìˆ˜
    """
    def __init__(self, drop_threshold=3.0):
        super().__init__(name="MyPercentageStrategy")
        self.drop_threshold = drop_threshold

    def generate_signals(self, data: pd.DataFrame) -> pd.DataFrame:
        df = data.copy()

        # ì¼ì¼ ë³€ë™ë¥  ê³„ì‚°
        df['Daily_Change'] = df['Close'].pct_change() * 100

        # 2ì¼ ì—°ì† í•˜ë½ í™•ì¸
        df['Consecutive_Drop'] = (
            (df['Daily_Change'] < 0) &
            (df['Daily_Change'].shift(1) < 0)
        )

        # ì‹œê·¸ë„ ìƒì„±
        df['Signal'] = 0

        # ì—°ì† í•˜ë½ í›„ threshold ì´ìƒ í•˜ë½ ì‹œ ë§¤ìˆ˜
        buy_condition = (
            df['Consecutive_Drop'] &
            (df['Daily_Change'] <= -self.drop_threshold)
        )
        df.loc[buy_condition, 'Signal'] = 1

        # 5% ìˆ˜ìµ ì‹œ ë§¤ë„
        df['Returns_From_Entry'] = (df['Close'] / df['Close'].shift(1) - 1) * 100
        df.loc[df['Returns_From_Entry'] >= 5.0, 'Signal'] = -1

        return df
```

### ì‹¤ì „ ì˜ˆì œ: ë‚˜ë§Œì˜ ì¡°ê±´ ì„¤ì •

```python
# ì˜ˆì œ 1: ê¸‰ë½ êµ¬ê°„ ë¬¼íƒ€ê¸° ì „ëµ
from src.strategies.percentage_strategy import PyramidingStrategy

my_strategy = PyramidingStrategy(
    buy_levels=[
        (5.0, 0.25),    # 5% í•˜ë½ â†’ ìë³¸ì˜ 25% íˆ¬ì
        (10.0, 0.35),   # 10% í•˜ë½ â†’ ì¶”ê°€ 35% íˆ¬ì
        (15.0, 0.40),   # 15% í•˜ë½ â†’ ì¶”ê°€ 40% íˆ¬ì (ì´ 100%)
    ],
    sell_profit_percent=7.0  # 7% ìˆ˜ìµ ì‹œ ì „ëŸ‰ ë§¤ë„
)

# ì˜ˆì œ 2: ë³´ìˆ˜ì  ì „ëµ
from src.strategies.percentage_strategy import PercentageDropBuyStrategy

conservative_strategy = PercentageDropBuyStrategy(
    drop_percent=10.0,       # í° í­ í•˜ë½ ì‹œì—ë§Œ ë§¤ìˆ˜
    sell_profit_percent=5.0  # ì‘ì€ ìˆ˜ìµì—ë„ ë§¤ë„
)

# ì˜ˆì œ 3: ê³µê²©ì  ì „ëµ
aggressive_strategy = PercentageDropBuyStrategy(
    drop_percent=3.0,        # ì‘ì€ í•˜ë½ì—ë„ ë§¤ìˆ˜
    sell_profit_percent=10.0 # í° ìˆ˜ìµ ë…¸ë¦¬ê¸°
)
```

## ì„±ê³¼ ì§€í‘œ

### ìˆ˜ìµë¥  ì§€í‘œ
- **Total Return**: ì´ ìˆ˜ìµë¥ 
- **Sharpe Ratio**: ìœ„í—˜ ëŒ€ë¹„ ìˆ˜ìµë¥  (ì—°ìœ¨í™”)
- **Sortino Ratio**: í•˜ë°© ìœ„í—˜ ëŒ€ë¹„ ìˆ˜ìµë¥ 
- **Calmar Ratio**: ìµœëŒ€ ë“œë¡œìš°ë‹¤ìš´ ëŒ€ë¹„ ìˆ˜ìµë¥ 

### ë¦¬ìŠ¤í¬ ì§€í‘œ
- **Max Drawdown**: ìµœëŒ€ ë‚™í­
- **Volatility**: ë³€ë™ì„± (ì—°ìœ¨í™”)
- **VaR (Value at Risk)**: ì†ì‹¤ ìœ„í—˜ ê°’
- **CVaR (Conditional VaR)**: ì¡°ê±´ë¶€ ì†ì‹¤ ìœ„í—˜ ê°’

### ê±°ë˜ ì§€í‘œ
- **Win Rate**: ìŠ¹ë¥ 
- **Profit Factor**: ì†ìµë¹„
- **Number of Trades**: ì´ ê±°ë˜ íšŸìˆ˜
- **Average Win/Loss**: í‰ê·  ìŠ¹/íŒ¨

## ì£¼ì˜ì‚¬í•­

âš ï¸ **ë©´ì±… ì¡°í•­**

ì´ í”„ë¡œê·¸ë¨ì€ êµìœ¡ ë° ì—°êµ¬ ëª©ì ìœ¼ë¡œë§Œ ì œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.
- ì‹¤ì œ íˆ¬ì ê²°ì •ì— ì‚¬ìš©í•˜ê¸° ì „ì— ë°˜ë“œì‹œ ì¶©ë¶„í•œ ê²€í† ê°€ í•„ìš”í•©ë‹ˆë‹¤
- ê³¼ê±° ì„±ê³¼ê°€ ë¯¸ë˜ ìˆ˜ìµì„ ë³´ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤
- ë ˆë²„ë¦¬ì§€ ETFëŠ” ë†’ì€ ë³€ë™ì„±ê³¼ ë¦¬ìŠ¤í¬ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤
- ì‹¤ì œ íˆ¬ì ì‹œ ë°˜ë“œì‹œ ì „ë¬¸ê°€ì™€ ìƒë‹´í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤

## ë¼ì´ì„ ìŠ¤

MIT License

## ê¸°ì—¬í•˜ê¸°

ì´ìŠˆì™€ Pull Requestë¥¼ í™˜ì˜í•©ë‹ˆë‹¤!

## ë¬¸ì˜

í”„ë¡œì íŠ¸ ê´€ë ¨ ë¬¸ì˜ì‚¬í•­ì€ Issuesë¥¼ í†µí•´ ë‚¨ê²¨ì£¼ì„¸ìš”.

---

**Happy Trading! ğŸ“ˆ**
